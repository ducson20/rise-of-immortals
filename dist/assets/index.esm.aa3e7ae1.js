import{n as H}from"./index.b1e61b8c.js";var se=e=>e.type==="checkbox",X=e=>e instanceof Date,L=e=>e==null;const Ge=e=>typeof e=="object";var E=e=>!L(e)&&!Array.isArray(e)&&Ge(e)&&!X(e),fr=e=>E(e)&&e.target?se(e.target)?e.target.checked:e.target.value:e,cr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,dr=(e,s)=>e.has(cr(s)),ie=e=>Array.isArray(e)?e.filter(Boolean):[],m=e=>e===void 0,d=(e,s,i)=>{if(!s||!E(e))return i;const o=ie(s.split(/[,[\].]+?/)).reduce((t,a)=>L(t)?t:t[a],e);return m(o)||o===e?m(e[s])?i:e[s]:o};const Pe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},I={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},yr=H.createContext(null),Lr=()=>H.useContext(yr);var hr=(e,s,i,o=!0)=>{const t={defaultValues:s._defaultValues};for(const a in e)Object.defineProperty(t,a,{get:()=>{const y=a;return s._proxyFormState[y]!==I.all&&(s._proxyFormState[y]=!o||I.all),i&&(i[y]=!0),e[y]}});return t},U=e=>E(e)&&!Object.keys(e).length,gr=(e,s,i)=>{const{name:o,...t}=e;return U(t)||Object.keys(t).length>=Object.keys(s).length||Object.keys(t).find(a=>s[a]===(!i||I.all))},we=e=>Array.isArray(e)?e:[e];function vr(e){const s=H.useRef(e);s.current=e,H.useEffect(()=>{const i=!e.disabled&&s.current.subject.subscribe({next:s.current.next});return()=>{i&&i.unsubscribe()}},[e.disabled])}var W=e=>typeof e=="string",_r=(e,s,i,o)=>W(e)?(o&&s.watch.add(e),d(i,e)):Array.isArray(e)?e.map(t=>(o&&s.watch.add(t),d(i,t))):(o&&(s.watchAll=!0),i),br=e=>{const s=e.constructor&&e.constructor.prototype;return E(s)&&s.hasOwnProperty("isPrototypeOf")},me=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function z(e){let s;const i=Array.isArray(e);if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(me&&(e instanceof Blob||e instanceof FileList))&&(i||E(e)))if(s=i?[]:{},!Array.isArray(e)&&!br(e))s=e;else for(const o in e)s[o]=z(e[o]);else return e;return s}var Ar=(e,s,i,o,t)=>s?{...i[e],types:{...i[e]&&i[e].types?i[e].types:{},[o]:t||!0}}:{},Ee=e=>/^\w*$/.test(e),Je=e=>ie(e.replace(/["|']|\]/g,"").split(/\.|\[/));function F(e,s,i){let o=-1;const t=Ee(s)?[s]:Je(s),a=t.length,y=a-1;for(;++o<a;){const g=t[o];let w=i;if(o!==y){const b=e[g];w=E(b)||Array.isArray(b)?b:isNaN(+t[o+1])?{}:[]}e[g]=w,e=e[g]}return e}const ke=(e,s,i)=>{for(const o of i||Object.keys(e)){const t=d(e,o);if(t){const{_f:a,...y}=t;if(a&&s(a.name)){if(a.ref.focus){a.ref.focus();break}else if(a.refs&&a.refs[0].focus){a.refs[0].focus();break}}else E(y)&&ke(y,s)}}};var Ie=e=>({isOnSubmit:!e||e===I.onSubmit,isOnBlur:e===I.onBlur,isOnChange:e===I.onChange,isOnAll:e===I.all,isOnTouch:e===I.onTouched}),qe=(e,s,i)=>!i&&(s.watchAll||s.watch.has(e)||[...s.watch].some(o=>e.startsWith(o)&&/^\.\w+/.test(e.slice(o.length)))),wr=(e,s,i)=>{const o=ie(d(e,i));return F(o,"root",s[i]),F(e,i,o),e},Y=e=>typeof e=="boolean",Ce=e=>e.type==="file",Z=e=>typeof e=="function",fe=e=>W(e)||H.isValidElement(e),Oe=e=>e.type==="radio",ce=e=>e instanceof RegExp;const pe={value:!1,isValid:!1},He={value:!0,isValid:!0};var Qe=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(i=>i&&i.checked&&!i.disabled).map(i=>i.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!m(e[0].attributes.value)?m(e[0].value)||e[0].value===""?He:{value:e[0].value,isValid:!0}:He:pe}return pe};const We={isValid:!1,value:null};var Xe=e=>Array.isArray(e)?e.reduce((s,i)=>i&&i.checked&&!i.disabled?{isValid:!0,value:i.value}:s,We):We;function $e(e,s,i="validate"){if(fe(e)||Array.isArray(e)&&e.every(fe)||Y(e)&&!e)return{type:i,message:fe(e)?e:"",ref:s}}var Q=e=>E(e)&&!ce(e)?e:{value:e,message:""},Ke=async(e,s,i,o,t)=>{const{ref:a,refs:y,required:g,maxLength:w,minLength:b,min:q,max:M,pattern:k,validate:v,name:N,valueAsNumber:ye,mount:ne,disabled:he}=e._f;if(!ne||he)return{};const T=y?y[0]:a,R=_=>{o&&T.reportValidity&&(T.setCustomValidity(Y(_)?"":_||""),T.reportValidity())},S={},le=Oe(a),j=se(a),ae=le||j,J=(ye||Ce(a))&&m(a.value)&&m(s)||s===""||Array.isArray(s)&&!s.length,B=Ar.bind(null,N,i,S),ue=(_,A,x,C=$.maxLength,p=$.minLength)=>{const P=_?A:x;S[N]={type:_?C:p,message:P,ref:a,...B(_?C:p,P)}};if(t?!Array.isArray(s)||!s.length:g&&(!ae&&(J||L(s))||Y(s)&&!s||j&&!Qe(y).isValid||le&&!Xe(y).isValid)){const{value:_,message:A}=fe(g)?{value:!!g,message:g}:Q(g);if(_&&(S[N]={type:$.required,message:A,ref:T,...B($.required,A)},!i))return R(A),S}if(!J&&(!L(q)||!L(M))){let _,A;const x=Q(M),C=Q(q);if(!L(s)&&!isNaN(s)){const p=a.valueAsNumber||s&&+s;L(x.value)||(_=p>x.value),L(C.value)||(A=p<C.value)}else{const p=a.valueAsDate||new Date(s),P=oe=>new Date(new Date().toDateString()+" "+oe),ee=a.type=="time",K=a.type=="week";W(x.value)&&s&&(_=ee?P(s)>P(x.value):K?s>x.value:p>new Date(x.value)),W(C.value)&&s&&(A=ee?P(s)<P(C.value):K?s<C.value:p<new Date(C.value))}if((_||A)&&(ue(!!_,x.message,C.message,$.max,$.min),!i))return R(S[N].message),S}if((w||b)&&!J&&(W(s)||t&&Array.isArray(s))){const _=Q(w),A=Q(b),x=!L(_.value)&&s.length>_.value,C=!L(A.value)&&s.length<A.value;if((x||C)&&(ue(x,_.message,A.message),!i))return R(S[N].message),S}if(k&&!J&&W(s)){const{value:_,message:A}=Q(k);if(ce(_)&&!s.match(_)&&(S[N]={type:$.pattern,message:A,ref:a,...B($.pattern,A)},!i))return R(A),S}if(v){if(Z(v)){const _=await v(s),A=$e(_,T);if(A&&(S[N]={...A,...B($.validate,A.message)},!i))return R(A.message),S}else if(E(v)){let _={};for(const A in v){if(!U(_)&&!i)break;const x=$e(await v[A](s),T,A);x&&(_={...x,...B(A,x.message)},R(x.message),i&&(S[N]=_))}if(!U(_)&&(S[N]={ref:T,..._},!i))return S}}return R(!0),S};function xr(e,s){const i=s.slice(0,-1).length;let o=0;for(;o<i;)e=m(e)?o++:e[s[o++]];return e}function Fr(e){for(const s in e)if(!m(e[s]))return!1;return!0}function O(e,s){const i=Ee(s)?[s]:Je(s),o=i.length==1?e:xr(e,i),t=i[i.length-1];let a;o&&delete o[t];for(let y=0;y<i.slice(0,-1).length;y++){let g=-1,w;const b=i.slice(0,-(y+1)),q=b.length-1;for(y>0&&(a=e);++g<b.length;){const M=b[g];w=w?w[M]:e[M],q===g&&(E(w)&&U(w)||Array.isArray(w)&&Fr(w))&&(a?delete a[M]:delete e[M]),a=w}}return e}function xe(){let e=[];return{get observers(){return e},next:t=>{for(const a of e)a.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(a=>a!==t)}}),unsubscribe:()=>{e=[]}}}var te=e=>L(e)||!Ge(e);function G(e,s){if(te(e)||te(s))return e===s;if(X(e)&&X(s))return e.getTime()===s.getTime();const i=Object.keys(e),o=Object.keys(s);if(i.length!==o.length)return!1;for(const t of i){const a=e[t];if(!o.includes(t))return!1;if(t!=="ref"){const y=s[t];if(X(a)&&X(y)||E(a)&&E(y)||Array.isArray(a)&&Array.isArray(y)?!G(a,y):a!==y)return!1}}return!0}var Se=e=>{const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},Ye=e=>e.type==="select-multiple",Vr=e=>Oe(e)||se(e),Fe=e=>Se(e)&&e.isConnected,Ze=e=>{for(const s in e)if(Z(e[s]))return!0;return!1};function de(e,s={}){const i=Array.isArray(e);if(E(e)||i)for(const o in e)Array.isArray(e[o])||E(e[o])&&!Ze(e[o])?(s[o]=Array.isArray(e[o])?[]:{},de(e[o],s[o])):L(e[o])||(s[o]=!0);return s}function je(e,s,i){const o=Array.isArray(e);if(E(e)||o)for(const t in e)Array.isArray(e[t])||E(e[t])&&!Ze(e[t])?m(s)||te(i[t])?i[t]=Array.isArray(e[t])?de(e[t],[]):{...de(e[t])}:je(e[t],L(s)?{}:s[t],i[t]):G(e[t],s[t])?delete i[t]:i[t]=!0;return i}var Ve=(e,s)=>je(e,s,de(s)),er=(e,{valueAsNumber:s,valueAsDate:i,setValueAs:o})=>m(e)?e:s?e===""?NaN:e&&+e:i&&W(e)?new Date(e):o?o(e):e;function De(e){const s=e.ref;if(!(e.refs?e.refs.every(i=>i.disabled):s.disabled))return Ce(s)?s.files:Oe(s)?Xe(e.refs).value:Ye(s)?[...s.selectedOptions].map(({value:i})=>i):se(s)?Qe(e.refs).value:er(m(s.value)?e.ref.value:s.value,e)}var Dr=(e,s,i,o)=>{const t={};for(const a of e){const y=d(s,a);y&&F(t,a,y._f)}return{criteriaMode:i,names:[...e],fields:t,shouldUseNativeValidation:o}},re=e=>m(e)?e:ce(e)?e.source:E(e)?ce(e.value)?e.value.source:e.value:e,mr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ze(e,s,i){const o=d(e,i);if(o||Ee(i))return{error:o,name:i};const t=i.split(".");for(;t.length;){const a=t.join("."),y=d(s,a),g=d(e,a);if(y&&!Array.isArray(y)&&i!==a)return{name:i};if(g&&g.type)return{name:a,error:g};t.pop()}return{name:i}}var kr=(e,s,i,o,t)=>t.isOnAll?!1:!i&&t.isOnTouch?!(s||e):(i?o.isOnBlur:t.isOnBlur)?!e:(i?o.isOnChange:t.isOnChange)?e:!0,Sr=(e,s)=>!ie(d(e,s)).length&&O(e,s);const Er={mode:I.onSubmit,reValidateMode:I.onChange,shouldFocusError:!0};function Cr(e={},s){let i={...Er,...e};const o=e.resetOptions&&e.resetOptions.keepDirtyValues;let t={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},y=E(i.defaultValues)?z(i.defaultValues)||{}:{},g=i.shouldUnregister?{}:z(y),w={action:!1,mount:!1,watch:!1},b={mount:new Set,unMount:new Set,array:new Set,watch:new Set},q,M=0;const k={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={watch:xe(),array:xe(),state:xe()},N=Ie(i.mode),ye=Ie(i.reValidateMode),ne=i.criteriaMode===I.all,he=r=>n=>{clearTimeout(M),M=window.setTimeout(r,n)},T=async()=>{if(k.isValid){const r=i.resolver?U((await B()).errors):await _(a,!0);r!==t.isValid&&(t.isValid=r,v.state.next({isValid:r}))}},R=r=>k.isValidating&&v.state.next({isValidating:r}),S=(r,n=[],l,f,c=!0,u=!0)=>{if(f&&l){if(w.action=!0,u&&Array.isArray(d(a,r))){const h=l(d(a,r),f.argA,f.argB);c&&F(a,r,h)}if(u&&Array.isArray(d(t.errors,r))){const h=l(d(t.errors,r),f.argA,f.argB);c&&F(t.errors,r,h),Sr(t.errors,r)}if(k.touchedFields&&u&&Array.isArray(d(t.touchedFields,r))){const h=l(d(t.touchedFields,r),f.argA,f.argB);c&&F(t.touchedFields,r,h)}k.dirtyFields&&(t.dirtyFields=Ve(y,g)),v.state.next({name:r,isDirty:x(r,n),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else F(g,r,n)},le=(r,n)=>{F(t.errors,r,n),v.state.next({errors:t.errors})},j=(r,n,l,f)=>{const c=d(a,r);if(c){const u=d(g,r,m(l)?d(y,r):l);m(u)||f&&f.defaultChecked||n?F(g,r,n?u:De(c._f)):P(r,u),w.mount&&T()}},ae=(r,n,l,f,c)=>{let u=!1,h=!1;const V={name:r};if(!l||f){k.isDirty&&(h=t.isDirty,t.isDirty=V.isDirty=x(),u=h!==V.isDirty);const D=G(d(y,r),n);h=d(t.dirtyFields,r),D?O(t.dirtyFields,r):F(t.dirtyFields,r,!0),V.dirtyFields=t.dirtyFields,u=u||k.dirtyFields&&h!==!D}if(l){const D=d(t.touchedFields,r);D||(F(t.touchedFields,r,l),V.touchedFields=t.touchedFields,u=u||k.touchedFields&&D!==l)}return u&&c&&v.state.next(V),u?V:{}},J=(r,n,l,f)=>{const c=d(t.errors,r),u=k.isValid&&Y(n)&&t.isValid!==n;if(e.delayError&&l?(q=he(()=>le(r,l)),q(e.delayError)):(clearTimeout(M),q=null,l?F(t.errors,r,l):O(t.errors,r)),(l?!G(c,l):c)||!U(f)||u){const h={...f,...u&&Y(n)?{isValid:n}:{},errors:t.errors,name:r};t={...t,...h},v.state.next(h)}R(!1)},B=async r=>await i.resolver(g,i.context,Dr(r||b.mount,a,i.criteriaMode,i.shouldUseNativeValidation)),ue=async r=>{const{errors:n}=await B();if(r)for(const l of r){const f=d(n,l);f?F(t.errors,l,f):O(t.errors,l)}else t.errors=n;return n},_=async(r,n,l={valid:!0})=>{for(const f in r){const c=r[f];if(c){const{_f:u,...h}=c;if(u){const V=b.array.has(u.name),D=await Ke(c,d(g,u.name),ne,i.shouldUseNativeValidation,V);if(D[u.name]&&(l.valid=!1,n))break;!n&&(d(D,u.name)?V?wr(t.errors,D,u.name):F(t.errors,u.name,D[u.name]):O(t.errors,u.name))}h&&await _(h,n,l)}}return l.valid},A=()=>{for(const r of b.unMount){const n=d(a,r);n&&(n._f.refs?n._f.refs.every(l=>!Fe(l)):!Fe(n._f.ref))&&ve(r)}b.unMount=new Set},x=(r,n)=>(r&&n&&F(g,r,n),!G(Le(),y)),C=(r,n,l)=>_r(r,b,{...w.mount?g:m(n)?y:W(r)?{[r]:n}:n},l),p=r=>ie(d(w.mount?g:y,r,e.shouldUnregister?d(y,r,[]):[])),P=(r,n,l={})=>{const f=d(a,r);let c=n;if(f){const u=f._f;u&&(!u.disabled&&F(g,r,er(n,u)),c=me&&Se(u.ref)&&L(n)?"":n,Ye(u.ref)?[...u.ref.options].forEach(h=>h.selected=c.includes(h.value)):u.refs?se(u.ref)?u.refs.length>1?u.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(c)?!!c.find(V=>V===h.value):c===h.value)):u.refs[0]&&(u.refs[0].checked=!!c):u.refs.forEach(h=>h.checked=h.value===c):Ce(u.ref)?u.ref.value="":(u.ref.value=c,u.ref.type||v.watch.next({name:r})))}(l.shouldDirty||l.shouldTouch)&&ae(r,c,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ge(r)},ee=(r,n,l)=>{for(const f in n){const c=n[f],u=`${r}.${f}`,h=d(a,u);(b.array.has(r)||!te(c)||h&&!h._f)&&!X(c)?ee(u,c,l):P(u,c,l)}},K=(r,n,l={})=>{const f=d(a,r),c=b.array.has(r),u=z(n);F(g,r,u),c?(v.array.next({name:r,values:g}),(k.isDirty||k.dirtyFields)&&l.shouldDirty&&(t.dirtyFields=Ve(y,g),v.state.next({name:r,dirtyFields:t.dirtyFields,isDirty:x(r,u)}))):f&&!f._f&&!L(u)?ee(r,u,l):P(r,u,l),qe(r,b)&&v.state.next({}),v.watch.next({name:r}),!w.mount&&s()},oe=async r=>{const n=r.target;let l=n.name;const f=d(a,l),c=()=>n.type?De(f._f):fr(r);if(f){let u,h;const V=c(),D=r.type===Pe.BLUR||r.type===Pe.FOCUS_OUT,ar=!mr(f._f)&&!i.resolver&&!d(t.errors,l)&&!f._f.deps||kr(D,d(t.touchedFields,l),t.isSubmitted,ye,N),be=qe(l,b,D);F(g,l,V),D?(f._f.onBlur&&f._f.onBlur(r),q&&q(0)):f._f.onChange&&f._f.onChange(r);const Ae=ae(l,V,D,!1),ur=!U(Ae)||be;if(!D&&v.watch.next({name:l,type:r.type}),ar)return k.isValid&&T(),ur&&v.state.next({name:l,...be?{}:Ae});if(!D&&be&&v.state.next({}),R(!0),i.resolver){const{errors:Ne}=await B([l]),or=ze(t.errors,a,l),Be=ze(Ne,a,or.name||l);u=Be.error,l=Be.name,h=U(Ne)}else u=(await Ke(f,d(g,l),ne,i.shouldUseNativeValidation))[l],u?h=!1:k.isValid&&(h=await _(a,!0));!te(V)||c()===V?(f._f.deps&&ge(f._f.deps),J(l,h,u,Ae)):R(!1)}},ge=async(r,n={})=>{let l,f;const c=we(r);if(R(!0),i.resolver){const u=await ue(m(r)?r:c);l=U(u),f=r?!c.some(h=>d(u,h)):l}else r?(f=(await Promise.all(c.map(async u=>{const h=d(a,u);return await _(h&&h._f?{[u]:h}:h)}))).every(Boolean),!(!f&&!t.isValid)&&T()):f=l=await _(a);return v.state.next({...!W(r)||k.isValid&&l!==t.isValid?{}:{name:r},...i.resolver||!r?{isValid:l}:{},errors:t.errors,isValidating:!1}),n.shouldFocus&&!f&&ke(a,u=>u&&d(t.errors,u),r?c:b.mount),f},Le=r=>{const n={...y,...w.mount?g:{}};return m(r)?n:W(r)?d(n,r):r.map(l=>d(n,l))},Te=(r,n)=>({invalid:!!d((n||t).errors,r),isDirty:!!d((n||t).dirtyFields,r),isTouched:!!d((n||t).touchedFields,r),error:d((n||t).errors,r)}),rr=r=>{r?we(r).forEach(n=>O(t.errors,n)):t.errors={},v.state.next({errors:t.errors})},tr=(r,n,l)=>{const f=(d(a,r,{_f:{}})._f||{}).ref;F(t.errors,r,{...n,ref:f}),v.state.next({name:r,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&f&&f.focus&&f.focus()},sr=(r,n)=>Z(r)?v.watch.subscribe({next:l=>r(C(void 0,n),l)}):C(r,n,!0),ve=(r,n={})=>{for(const l of r?we(r):b.mount)b.mount.delete(l),b.array.delete(l),d(a,l)&&(n.keepValue||(O(a,l),O(g,l)),!n.keepError&&O(t.errors,l),!n.keepDirty&&O(t.dirtyFields,l),!n.keepTouched&&O(t.touchedFields,l),!i.shouldUnregister&&!n.keepDefaultValue&&O(y,l));v.watch.next({}),v.state.next({...t,...n.keepDirty?{isDirty:x()}:{}}),!n.keepIsValid&&T()},_e=(r,n={})=>{let l=d(a,r);const f=Y(n.disabled);return F(a,r,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:r}},name:r,mount:!0,...n}}),b.mount.add(r),l?f&&F(g,r,n.disabled?void 0:d(g,r,De(l._f))):j(r,!0,n.value),{...f?{disabled:n.disabled}:{},...i.shouldUseNativeValidation?{required:!!n.required,min:re(n.min),max:re(n.max),minLength:re(n.minLength),maxLength:re(n.maxLength),pattern:re(n.pattern)}:{},name:r,onChange:oe,onBlur:oe,ref:c=>{if(c){_e(r,n),l=d(a,r);const u=m(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,h=Vr(u),V=l._f.refs||[];if(h?V.find(D=>D===u):u===l._f.ref)return;F(a,r,{_f:{...l._f,...h?{refs:[...V.filter(Fe),u,...Array.isArray(d(y,r))?[{}]:[]],ref:{type:u.type,name:r}}:{ref:u}}}),j(r,!1,void 0,u)}else l=d(a,r,{}),l._f&&(l._f.mount=!1),(i.shouldUnregister||n.shouldUnregister)&&!(dr(b.array,r)&&w.action)&&b.unMount.add(r)}}},Re=()=>i.shouldFocusError&&ke(a,r=>r&&d(t.errors,r),b.mount),ir=(r,n)=>async l=>{l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=!0,c=z(g);v.state.next({isSubmitting:!0});try{if(i.resolver){const{errors:u,values:h}=await B();t.errors=u,c=h}else await _(a);U(t.errors)?(v.state.next({errors:{},isSubmitting:!0}),await r(c,l)):(n&&await n({...t.errors},l),Re())}catch(u){throw f=!1,u}finally{t.isSubmitted=!0,v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:U(t.errors)&&f,submitCount:t.submitCount+1,errors:t.errors})}},nr=(r,n={})=>{d(a,r)&&(m(n.defaultValue)?K(r,d(y,r)):(K(r,n.defaultValue),F(y,r,n.defaultValue)),n.keepTouched||O(t.touchedFields,r),n.keepDirty||(O(t.dirtyFields,r),t.isDirty=n.defaultValue?x(r,d(y,r)):x()),n.keepError||(O(t.errors,r),k.isValid&&T()),v.state.next({...t}))},Ue=(r,n={})=>{const l=r||y,f=z(l),c=r&&!U(r)?f:y;if(n.keepDefaultValues||(y=l),!n.keepValues){if(n.keepDirtyValues||o)for(const u of b.mount)d(t.dirtyFields,u)?F(c,u,d(g,u)):K(u,d(c,u));else{if(me&&m(r))for(const u of b.mount){const h=d(a,u);if(h&&h._f){const V=Array.isArray(h._f.refs)?h._f.refs[0]:h._f.ref;if(Se(V)){const D=V.closest("form");if(D){D.reset();break}}}}a={}}g=e.shouldUnregister?n.keepDefaultValues?z(y):{}:f,v.array.next({values:c}),v.watch.next({values:c})}b={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!w.mount&&s(),w.mount=!k.isValid||!!n.keepIsValid,w.watch=!!e.shouldUnregister,v.state.next({submitCount:n.keepSubmitCount?t.submitCount:0,isDirty:n.keepDirty||n.keepDirtyValues?t.isDirty:!!(n.keepDefaultValues&&!G(r,y)),isSubmitted:n.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:n.keepDirty||n.keepDirtyValues?t.dirtyFields:n.keepDefaultValues&&r?Ve(y,r):{},touchedFields:n.keepTouched?t.touchedFields:{},errors:n.keepErrors?t.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Me=(r,n)=>Ue(Z(r)?r(g):r,n),lr=(r,n={})=>{const l=d(a,r),f=l&&l._f;if(f){const c=f.refs?f.refs[0]:f.ref;c.focus&&(c.focus(),n.shouldSelect&&c.select())}};return Z(i.defaultValues)&&i.defaultValues().then(r=>{Me(r,i.resetOptions),v.state.next({isLoading:!1})}),{control:{register:_e,unregister:ve,getFieldState:Te,_executeSchema:B,_focusError:Re,_getWatch:C,_getDirty:x,_updateValid:T,_removeUnmounted:A,_updateFieldArray:S,_getFieldArray:p,_reset:Ue,_subjects:v,_proxyFormState:k,get _fields(){return a},get _formValues(){return g},get _stateFlags(){return w},set _stateFlags(r){w=r},get _defaultValues(){return y},get _names(){return b},set _names(r){b=r},get _formState(){return t},set _formState(r){t=r},get _options(){return i},set _options(r){i={...i,...r}}},trigger:ge,register:_e,handleSubmit:ir,watch:sr,setValue:K,getValues:Le,reset:Me,resetField:nr,clearErrors:rr,unregister:ve,setError:tr,setFocus:lr,getFieldState:Te}}function Tr(e={}){const s=H.useRef(),[i,o]=H.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Z(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...Cr(e,()=>o(a=>({...a}))),formState:i});const t=s.current.control;return t._options=e,vr({subject:t._subjects.state,next:a=>{gr(a,t._proxyFormState,!0)&&(t._formState={...t._formState,...a},o({...t._formState}))}}),H.useEffect(()=>{t._stateFlags.mount||(t._proxyFormState.isValid&&t._updateValid(),t._stateFlags.mount=!0),t._stateFlags.watch&&(t._stateFlags.watch=!1,t._subjects.state.next({})),t._removeUnmounted()}),H.useEffect(()=>{e.values&&!G(e.values,t._defaultValues)&&t._reset(e.values,t._options.resetOptions)},[e.values,t]),H.useEffect(()=>{i.submitCount&&t._focusError()},[t,i.submitCount]),s.current.formState=hr(i,t),s.current}export{Lr as a,d as g,Tr as u};
